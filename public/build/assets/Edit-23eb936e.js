import{r as S,v as U,h as B,B as E,m as T,o as h,d as I,j,c as D,w as n,b as t,u as s,p as y,e as _,t as d,a as i,n as w}from"./app-a96b9404.js";import{_ as F}from"./DialogModal-02108549.js";import{_ as N}from"./ImageInput-ba4ecf39.js";import{_ as m}from"./InputError-9f6d638b.js";import{_ as u}from"./InputLabel-aac3b093.js";import{_ as P}from"./ActionButton-80eb8da3.js";import{_ as J}from"./PrimaryButton-aac607c9.js";import{_ as M}from"./SecondaryButton-f6d0588b.js";import{_ as O}from"./SelectInput-6bf14167.js";import{_ as x}from"./TextInput-c0b06f0e.js";import{a as Q}from"./index-78a13632.js";import{Q as z}from"./vue-quill.snow-44c41065.js";import"./Modal-f6002513.js";const W=["onSubmit"],Y={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},q={class:"space-y-2 sm:col-span-2"},A={class:"space-y-1"},G={class:"space-y-1"},H={class:"space-y-2"},K={class:"space-y-1"},L={class:"space-y-1"},R={class:"space-y-1"},ue={__name:"Edit",props:{title:String,roles:Object,information:Object},emits:["open"],setup(V,{emit:k}){const r=V,c=S(!1),e=U({title:"",image:null,text:"",published:1,date:"",_method:"PUT"}),g=B({image:null});E(()=>{var l,o,p,a,b;c&&(g.image=(l=r.information)==null?void 0:l.full_path_image,e.title=(o=r.information)==null?void 0:o.title,e.text=(p=r.information)==null?void 0:p.text,e.date=(a=r.information)==null?void 0:a.date,e.published=(b=r.information)==null?void 0:b.published)});const v=()=>{var l;e.post(route("information.update",(l=r.information)==null?void 0:l.id),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>null,onFinish:()=>null})},f=()=>{c.value=!1,e.errors={},e.reset()},$=l=>{e.image=l.file},C=[{label:"Ya",value:1},{label:"Tidak",value:0}];return(l,o)=>{const p=T("tooltip");return h(),I("div",null,[j((h(),D(P,{onClick:o[0]||(o[0]=y(a=>(c.value=!0,k("open")),["prevent"]))},{default:n(()=>[t(s(Q),{class:"w-4 h-auto"})]),_:1})),[[p,l.lang().label.edit]]),t(F,{show:c.value,onClose:f,maxWidth:"6xl"},{title:n(()=>[_(d(l.lang().label.edit)+" "+d(r.title),1)]),content:n(()=>[i("form",{class:"space-y-2",onSubmit:y(v,["prevent"])},[i("div",Y,[i("div",q,[i("div",A,[t(u,{for:"title",value:"Judul Informasi"}),t(x,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).title=a),type:"text",class:"block w-full",autocomplete:"title",placeholder:"Judul Informasi",error:s(e).errors.title},null,8,["modelValue","error"]),t(m,{message:s(e).errors.title},null,8,["message"])]),i("div",G,[t(u,{for:"text",value:"Informasi"}),t(s(z),{id:"text",style:"border: none",content:s(e).text,"onUpdate:content":o[2]||(o[2]=a=>s(e).text=a),theme:"snow",toolbar:"full","content-type":"html",class:w("rounded")},null,8,["content"]),t(m,{message:s(e).errors.text},null,8,["message"])])]),i("div",H,[i("div",K,[t(u,{for:"image",value:"Foto"}),t(N,{class:"w-full h-60",onFileChange:$,image:g.image},null,8,["image"]),t(m,{message:s(e).errors.image},null,8,["message"])]),i("div",L,[t(u,{for:"date",value:"Tanggal"}),t(x,{id:"date",modelValue:s(e).date,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).date=a),type:"date",class:"block w-full",autocomplete:"date",placeholder:"Tanggal",error:s(e).errors.date},null,8,["modelValue","error"]),t(m,{message:s(e).errors.date},null,8,["message"])]),i("div",R,[t(u,{for:"published",value:"Publish"}),t(O,{id:"published",modelValue:s(e).published,"onUpdate:modelValue":o[4]||(o[4]=a=>s(e).published=a),dataSet:C,class:"block w-full",error:s(e).errors.published},null,8,["modelValue","error"]),t(m,{message:s(e).errors.published},null,8,["message"])])])])],40,W)]),footer:n(()=>[t(M,{onClick:f},{default:n(()=>[_(d(l.lang().button.cancel),1)]),_:1}),t(J,{class:w(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:v},{default:n(()=>[_(d(l.lang().button.save)+" "+d(s(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])}}};export{ue as default};
