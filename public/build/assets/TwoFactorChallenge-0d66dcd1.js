import{r as _,v as x,o as r,d as s,b as t,u as l,X as V,w as f,a as c,t as a,F as i,e as d,p as y,n as C,y as $}from"./app-a96b9404.js";import{_ as I}from"./AuthenticationCard-bf5a1d06.js";import{_ as B}from"./AuthenticationCardLogo-d790809c.js";import{_ as g}from"./InputError-9f6d638b.js";import{_ as b}from"./InputLabel-aac3b093.js";import{_ as F}from"./PrimaryButton-aac607c9.js";import{_ as h}from"./TextInput-c0b06f0e.js";import"./SwitchDarkMode-538c7276.js";import"./index-78a13632.js";import"./ApplicationLogo-ad1997ea.js";import"./_plugin-vue_export-helper-c27b6911.js";const N={class:"flex flex-col mb-4"},S={class:"text-primary font-semibold text-xl"},T={class:"text-slate-400"},U={class:"mb-4 text-sm text-slate-600 dark:text-slate-400"},j=["onSubmit"],z={key:0},D={key:1},E={class:"flex items-center justify-between mt-4"},M=["onClick"],W={__name:"TwoFactorChallenge",setup(R){const n=_(!1),e=x({code:"",recovery_code:""}),p=_(null),v=_(null),k=async()=>{n.value^=!0,await $(),n.value?(p.value.focus(),e.code=""):(v.value.focus(),e.recovery_code="")},w=()=>{e.post(route("two-factor.login"))};return(o,m)=>(r(),s(i,null,[t(l(V),{title:o.lang().label.two_factor_confirmation},null,8,["title"]),t(I,null,{logo:f(()=>[t(B)]),default:f(()=>[c("div",N,[c("h2",S,a(o.lang().label.two_factor_confirmation),1),c("small",T,a(o.lang().label.two_factor_confirmation_caption),1)]),c("div",U,[n.value?(r(),s(i,{key:1},[d(a(o.lang().label.please_confirm_access_recovery),1)],64)):(r(),s(i,{key:0},[d(a(o.lang().label.please_confirm_access),1)],64))]),c("form",{onSubmit:y(w,["prevent"])},[n.value?(r(),s("div",D,[t(b,{for:"recovery_code",value:o.lang().label.recovery_code},null,8,["value"]),t(h,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:p,modelValue:l(e).recovery_code,"onUpdate:modelValue":m[1]||(m[1]=u=>l(e).recovery_code=u),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code",placeholder:o.lang().placeholder.recovery_code,error:l(e).errors.recovery_code},null,8,["modelValue","placeholder","error"]),t(g,{class:"mt-2",message:l(e).errors.recovery_code},null,8,["message"])])):(r(),s("div",z,[t(b,{for:"code",value:o.lang().label.code},null,8,["value"]),t(h,{id:"code",ref_key:"codeInput",ref:v,modelValue:l(e).code,"onUpdate:modelValue":m[0]||(m[0]=u=>l(e).code=u),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code",placeholder:o.lang().placeholder.code,error:l(e).errors.code},null,8,["modelValue","placeholder","error"]),t(g,{class:"mt-2",message:l(e).errors.code},null,8,["message"])])),c("div",E,[c("button",{type:"button",class:"text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 underline cursor-pointer",onClick:y(k,["prevent"])},[n.value?(r(),s(i,{key:1},[d(a(o.lang().label.use_authentication_code),1)],64)):(r(),s(i,{key:0},[d(a(o.lang().label.use_recovery_code),1)],64))],8,M),t(F,{class:C(["ml-4",{"opacity-25":l(e).processing}]),disabled:l(e).processing},{default:f(()=>[d(a(o.lang().button.login)+" "+a(l(e).processing?"...":""),1)]),_:1},8,["class","disabled"])])],40,j)]),_:1})],64))}};export{W as default};
