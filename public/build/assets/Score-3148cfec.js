import{r as N,v as E,B as S,m as V,o as c,d as p,j as v,p as B,e as _,t as o,b as d,w as a,a as e,F as T,f as M,k as C}from"./app-a96b9404.js";import{_ as D}from"./DialogModal-02108549.js";import{T as q}from"./Table-cc2bf8f5.js";import{_ as J}from"./TextInput-c0b06f0e.js";import{_ as P}from"./SecondaryButton-f6d0588b.js";import"./index-78a13632.js";import"./Modal-f6002513.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"space-y-4"},U={class:"space-y-2"},j=e("tr",null,[e("th",{class:"p-4 text-center"},"#"),e("th",{class:"p-4 text-left"},"Soal"),e("th",{class:"p-4 text-left"},"Jenis"),e("th",{class:"p-4 text-left"},"Kunci"),e("th",{class:"p-4 text-left"},"Jawaban"),e("th",{class:"p-4 text-center"},"Nilai")],-1),F={class:"whitespace-nowrap px-4 py-2 text-center"},G=["innerHTML"],K=e("td",{class:"whitespace-nowrap px-4 py-2"}," Pilihan Ganda ",-1),O=["innerHTML"],W=["innerHTML"],z={class:"whitespace-nowrap px-4 py-2 text-center"},A=e("p",{class:"font-bold"},"Total Nilai",-1),I={class:"font-bold mr-3"},Q={class:"space-y-2"},R=e("tr",null,[e("th",{class:"p-4 text-center"},"#"),e("th",{class:"p-4 text-left"},"Soal"),e("th",{class:"p-4 text-left"},"Jenis"),e("th",{class:"p-4 text-left"},"Jawaban"),e("th",{class:"p-4 text-center"},"Nilai")],-1),X={class:"whitespace-nowrap px-4 py-2 text-center"},Y=["innerHTML"],Z=e("td",{class:"whitespace-nowrap px-4 py-2"}," Essay ",-1),ee=["innerHTML"],te={class:"whitespace-nowrap px-4 py-2"},se=e("p",{class:"font-bold"},"Total Nilai",-1),ae={class:"font-bold mr-6"},me={__name:"Score",props:{title:Number,memberexam:Object},emits:["open"],setup(k,{emit:g}){const r=k,m=N(!1),x=E({answers:null});S(()=>{m&&(x.answers=r.memberexam.exam_answers.filter(s=>s.question.type=="Essay").map(s=>({id:s.id,score:String(s.score),type:s.question.type,question:s.question.question,answer:s.answer})))});const b=()=>{m.value=!1},L=s=>{let n=0;return s.exam_answers.forEach(i=>{i.question.type=="Multiple Choice"&&(n+=Number(i.score*10))}),n},H=()=>{var n;let s=0;return(n=x.answers)==null||n.forEach(i=>{s+=Number(i.score)}),s};return(s,n)=>{const i=V("tooltip");return c(),p("div",null,[v((c(),p("p",{class:"text-bold cursor-pointer hover:underline hover:text-primary",onClick:n[0]||(n[0]=B(h=>(m.value=!0,g("open")),["prevent"]))},[_(o(r.title),1)])),[[i,"Detail Penilaian"]]),d(D,{show:m.value,onClose:b,maxWidth:"5xl"},{title:a(()=>[_(" Detail Penilaian ")]),content:a(()=>{var h,y;return[e("div",$,[e("div",U,[e("h1",null," Pilihan Ganda Bobot "+o((h=r.memberexam.exam)==null?void 0:h.multiple_choice)+"% ",1),d(q,null,{"table-head":a(()=>[j]),"table-body":a(()=>{var t;return[(c(!0),p(T,null,M((t=r.memberexam)==null?void 0:t.exam_answers,(l,u)=>{var f,w;return v((c(),p("tr",{key:u,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",F,o(++u),1),e("td",{class:"px-4 py-2",innerHTML:(f=l.question)==null?void 0:f.question},null,8,G),K,e("td",{class:"px-4 py-2 text-center uppercase",innerHTML:l.question.key},null,8,O),e("td",{class:"px-4 py-2 text-center uppercase",innerHTML:l.answer},null,8,W),e("td",z,[e("p",null,o(l.score==1?10:0),1)])])),[[C,((w=l.question)==null?void 0:w.type)=="Multiple Choice"]])}),128))]}),"table-pagination":a(()=>[A,e("p",I,o(L(r.memberexam)),1)]),_:1})]),e("div",Q,[e("h1",null," Essay Bobot "+o((y=r.memberexam.exam)==null?void 0:y.essay)+"% ",1),d(q,null,{"table-head":a(()=>[R]),"table-body":a(()=>[(c(!0),p(T,null,M(r.memberexam.exam_answers.filter(t=>t.question.type=="Essay").map(t=>({id:t.id,score:String(t.score),type:t.question.type,question:t.question.question,answer:t.answer})),(t,l)=>(c(),p("tr",{key:l,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",X,o(++l),1),e("td",{class:"px-4 py-2",innerHTML:t.question},null,8,Y),Z,e("td",{class:"px-4 py-2",innerHTML:t.answer},null,8,ee),e("td",te,[d(J,{class:"w-20",placeholder:"nilai",type:"number",min:"0",max:"10",modelValue:t.score,"onUpdate:modelValue":u=>t.score=u},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),"table-pagination":a(()=>[se,e("p",ae,o(H()),1)]),_:1})])])]}),footer:a(()=>[d(P,{onClick:b},{default:a(()=>[_(o(s.lang().button.cancel),1)]),_:1})]),_:1},8,["show"])])}}};export{me as default};
