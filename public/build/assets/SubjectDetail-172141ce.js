import{v as $,U as B,r as D,o as c,c as N,w as d,a as s,t as a,b as l,u as o,d as r,f as S,x as V,F as L,g as M,j as E,k as F,p as I,n as T,e as H}from"./app-a96b9404.js";import{_ as U}from"./GuestLayout-3f0ead6f.js";import{_ as K}from"./InputError-9f6d638b.js";import{f as O,q as Q,l as q}from"./index-78a13632.js";import{_ as z}from"./PrimaryButton-aac607c9.js";import J from"./Delete-8908a073.js";import{Q as R}from"./vue-quill.snow-44c41065.js";import"./Banner-8bba34a4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6181452d.js";import"./ApplicationLogo-ad1997ea.js";import"./SwitchDarkMode-538c7276.js";import"./ConfirmationModal-80b8e5de.js";import"./Modal-f6002513.js";import"./DangerButton-fb577737.js";import"./SecondaryButton-f6d0588b.js";const A={class:"bg-white min-h-[calc(100vh-64px)] dark:bg-slate-900"},G={"data-aos":"fade-up","data-aos-duration":"1000",class:"max-w-7xl mx-auto items-center px-4 sm:px-6 lg:px-8 pt-20 pb-8"},P={class:"w-full block md:grid md:grid-cols-7 gap-10 space-y-6 md:space-y-0"},W={class:"col-span-5"},X={class:"text-2xl font-semibold"},Y={class:"flex justify-start items-center gap-1 text-sm"},Z={class:""},ss={class:""},es={class:"my-6 w-full block md:grid md:grid-cols-7 gap-10 space-y-6 md:space-y-0"},ts={class:"col-span-5 space-y-4"},os=["src","alt"],as=["innerHTML"],ls={class:"col-span-2 space-y-4"},is=s("h1",{class:"text-xl font-semibold"},[H(" Materi "),s("span",{class:"text-primary"},"Lainnya")],-1),cs={class:"space-y-1"},rs={class:"flex space-x-2"},ns={class:"my-4 py-4 space-y-4 border-t border-slate-300 dark:border-slate-700"},ds={class:"text-lg font-bold"},_s={key:0,class:"flex gap-2 items-start"},ps=["src","alt"],us={class:"flex flex-col"},ms={class:"flex gap-2 items-center"},hs={class:"font-bold"},fs={class:"text-sm"},bs=["innerHTML"],xs={key:1,class:"flex gap-2 items-start"},gs=["src","alt"],vs={class:"flex flex-col"},ys={class:"flex gap-2 items-center"},js={class:"font-bold"},ws={class:"text-sm"},ks=["innerHTML"],Ss=["onSubmit"],Ls={class:"space-y-2"},Ms={class:"space-y-1"},Ts={class:"flex justify-end"},Js={__name:"SubjectDetail",props:{title:String,subject:Object,moreSubject:Object},setup(C){var u,m;const t=C,i=$({text:"",subject_id:(u=t.subject)==null?void 0:u.id,member_id:(m=B().props.app.member)==null?void 0:m.id}),_=D(),p=()=>{i.post(route("comment.store"),{preserveScroll:!0,onSuccess:()=>_.value.setHTML(""),onError:()=>null,onFinish:()=>null})};return(h,f)=>(c(),N(U,{title:t.title},{default:d(()=>{var b,x,g,v,y,j,w,k;return[s("section",A,[s("div",G,[s("div",P,[s("div",W,[s("p",X,a(t.title),1),s("div",Y,[l(o(O),{class:"w-3 h-auto"}),s("p",Z,a((x=(b=t.subject)==null?void 0:b.user)==null?void 0:x.name),1),l(o(Q),{class:"ml-2 w-3 h-auto"}),s("p",ss,a((g=t.subject)==null?void 0:g.created_at),1)])])]),s("div",es,[s("div",ts,[s("img",{class:"rounded shadow",src:(v=t.subject)==null?void 0:v.full_path_image,alt:(y=t.subject)==null?void 0:y.title},null,8,os),s("div",{class:"no-tailwindcss-base",innerHTML:(j=t.subject)==null?void 0:j.subject},null,8,as)]),s("div",ls,[is,s("ul",cs,[(c(!0),r(L,null,S(t.moreSubject,(e,n)=>(c(),r("li",{key:n},[l(o(V),{class:"hover:text-primary",href:h.route("guest.subject-detail",{slug:e.slug})},{default:d(()=>[s("div",rs,[l(o(q),{class:"w-4 h-auto flex-shrink-0"}),s("p",null,a(e.title),1)])]),_:2},1032,["href"])]))),128))])])]),s("div",ns,[s("h1",ds," Komentar ("+a((w=t.subject)==null?void 0:w.comments.length)+") ",1),(c(!0),r(L,null,S((k=t.subject)==null?void 0:k.comments,(e,n)=>(c(),r("div",{key:n},[e.user?(c(),r("div",_s,[s("img",{src:e.user.profile_photo_url,alt:e.user.name,class:"rounded-full h-10 w-10 object-cover"},null,8,ps),s("div",us,[s("div",ms,[s("p",hs,a(e.user.name),1),s("p",fs,a(e.created_at),1)]),s("div",{class:"no-tailwindcss-base",innerHTML:e.text},null,8,bs)])])):M("",!0),e.member?(c(),r("div",xs,[s("img",{src:e.member.full_path_image,alt:e.member.name,class:"rounded-full h-10 w-10 object-cover"},null,8,gs),s("div",vs,[s("div",ys,[s("p",js,a(e.member.name),1),s("p",ws,a(e.created_at),1),E(l(J,{comment:e},null,8,["comment"]),[[F,e.member_id===h.$page.props.app.member.id]])]),s("div",{class:"no-tailwindcss-base",innerHTML:e.text},null,8,ks)])])):M("",!0)]))),128)),s("form",{class:"space-y-2",onSubmit:I(p,["prevent"])},[s("div",Ls,[s("div",Ms,[l(o(R),{id:"text",ref_key:"text",ref:_,style:"border: none",content:o(i).text,"onUpdate:content":f[0]||(f[0]=e=>o(i).text=e),theme:"snow",toolbar:"essential","content-type":"html",class:T("rounded")},null,8,["content"]),l(K,{message:o(i).errors.text},null,8,["message"])])]),s("div",Ts,[l(z,{class:T({"opacity-25":o(i).processing}),disabled:o(i).processing,onClick:p},{default:d(()=>[H(" Kirim "+a(o(i).processing?"...":""),1)]),_:1},8,["class","disabled"])])],40,Ss)])])])]}),_:1},8,["title"]))}};export{Js as default};
