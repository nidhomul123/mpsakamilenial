import{o as h,d as y,A as C,h as S,i as q,O as I,c as j,w as i,a as e,t as n,b as r,u as p,x as O,j as d,k as c,f as V,l as M,F as P}from"./app-a96b9404.js";import{_ as B}from"./AppLayout-5f685138.js";import{T as E}from"./Table-cc2bf8f5.js";import{_ as U}from"./Breadcrumb-cba4c0d4.js";import{_ as D}from"./SelectInput-6bf14167.js";import{_ as L}from"./TablePagination-80699fd5.js";import{_ as N}from"./TextInput-c0b06f0e.js";import T from"./Create-2f29a7d6.js";import A from"./Edit-48b96696.js";import G from"./Delete-74843c19.js";import F from"./DeleteBulk-6f2ce58a.js";import{p as H}from"./empty-58786c2e.js";import{r as J,C as f}from"./index-78a13632.js";import{_ as K}from"./Checkbox-84e5da5f.js";import"./Banner-8bba34a4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6181452d.js";import"./SwitchDarkMode-538c7276.js";import"./ApplicationLogo-ad1997ea.js";import"./DialogModal-02108549.js";import"./Modal-f6002513.js";import"./InputError-9f6d638b.js";import"./InputLabel-aac3b093.js";import"./PrimaryButton-aac607c9.js";import"./SecondaryButton-f6d0588b.js";import"./vue-quill.snow-44c41065.js";import"./ActionButton-80eb8da3.js";import"./ConfirmationModal-80b8e5de.js";import"./DangerButton-fb577737.js";const W=["type"],z={__name:"WarningButton",props:{type:{type:String,default:"button"}},setup(u){return(o,b)=>(h(),y("button",{type:u.type,class:"inline-flex items-center px-4 py-2 bg-yellow-400 dark:bg-yellow-500 border border-yellow-300 dark:border-yellow-500 rounded font-semibold text-xs text-slate-600 dark:text-slate-600 uppercase tracking-widest shadow-sm hover:bg-yellow-300 dark:hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-yellow-500 disabled:opacity-25 transition ease-in-out duration-150"},[C(o.$slots,"default")],8,W))}},Q={class:"py-6"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-4"},X={class:"bg-white dark:bg-slate-800 overflow-hidden shadow sm:rounded"},Y={class:"flex shrink-0 rounded overflow-hidden"},Z=e("span",{class:"hidden md:block"},"Kembali",-1),ee={class:"flex justify-end items-center gap-2"},te={class:"flex space-x-2"},se={class:"p-4 text-left"},ae=e("th",{class:"p-4 text-center"},"#",-1),le={class:"flex justify-between items-center"},oe=e("span",null,"Soal",-1),re={class:"flex justify-between items-center"},ie=e("span",null,"Jenis",-1),ne={class:"flex justify-between items-center"},de=e("span",null,"Kunci Jawaban",-1),pe={class:"flex justify-between items-center"},ce={class:"p-4 text-left"},ue=e("th",{class:"p-4 text-center sr-only"},"Action",-1),me={class:"whitespace-nowrap px-4 py-2"},fe=["value"],he={class:"whitespace-nowrap px-4 py-2 text-center"},_e=["innerHTML"],ye={class:"whitespace-nowrap px-4 py-2"},be={class:"whitespace-nowrap px-4 py-2"},we={class:"whitespace-nowrap px-4 py-2"},ge={class:"whitespace-nowrap flex justify-end px-4 py-2"},ke={class:"flex w-fit rounded overflow-hidden"},Xe={__name:"Index",props:{title:String,filters:Object,questions:Object,breadcrumbs:Object,perPage:Number,type:String,exam_id:Number},setup(u){const o=u,{_:b,debounce:k,pickBy:x}=H,t=S({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage,type:o.type,exam_id:o.exam_id},selectedId:[],multipleSelect:!1,question:null}),m=s=>{t.params.field=s,t.params.order=t.params.order==="asc"?"desc":"asc"};q(()=>b.cloneDeep(t.params),k(()=>{let s=x(t.params);I.get(route("question.index"),s,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const v=s=>{var a;s.target.checked===!1?t.selectedId=[]:(a=o.questions)==null||a.data.forEach(l=>{t.selectedId.push(l.id)})},$=()=>{var s;((s=o.questions)==null?void 0:s.data.length)==t.selectedId.length?t.multipleSelect=!0:t.multipleSelect=!1};return(s,a)=>(h(),j(B,{title:o.title+" "+(s.route().params.type=="Multiple Choice"?"Pilihan Ganda":"Essay")},{title:i(()=>[e("span",null,n(o.title+" "+(s.route().params.type=="Multiple Choice"?"Pilihan Ganda":"Essay")),1)]),breadcrumb:i(()=>[r(U)]),default:i(()=>[e("div",Q,[e("div",R,[e("div",X,[r(E,null,{"table-action":i(()=>[e("div",Y,[r(p(O),{href:s.route("exam.index")},{default:i(()=>[r(z,{class:"flex rounded-none items-center justify-start gap-2"},{default:i(()=>[r(p(J),{class:"w-4 h-auto"}),Z]),_:1})]),_:1},8,["href"]),d(r(T,{title:o.title},null,8,["title"]),[[c,s.can(["question create"])]]),d(r(F,{selectedId:t.selectedId,title:o.title,onClose:a[0]||(a[0]=l=>(t.selectedId=[],t.multipleSelect=!1))},null,8,["selectedId","title"]),[[c,t.selectedId.length!=0&&s.can(["question delete"])]])]),e("div",ee,[e("div",te,[r(D,{class:"h-9 text-sm",modelValue:t.params.perPage,"onUpdate:modelValue":a[1]||(a[1]=l=>t.params.perPage=l),dataSet:s.$page.props.app.perpage},null,8,["modelValue","dataSet"])]),r(N,{modelValue:t.params.search,"onUpdate:modelValue":a[2]||(a[2]=l=>t.params.search=l),type:"text",class:"block h-9",placeholder:s.lang().placeholder.search},null,8,["modelValue","placeholder"])])]),"table-head":i(()=>[e("tr",null,[e("th",se,[r(K,{checked:t.multipleSelect,"onUpdate:checked":a[3]||(a[3]=l=>t.multipleSelect=l),onChange:v},null,8,["checked"])]),ae,e("th",{class:"p-4 cursor-pointer",onClick:a[4]||(a[4]=l=>m("question"))},[e("div",le,[oe,r(p(f),{class:"w-4 h-4"})])]),e("th",{class:"p-4 cursor-pointer",onClick:a[5]||(a[5]=l=>m("type"))},[e("div",re,[ie,r(p(f),{class:"w-4 h-4"})])]),d(e("th",{class:"p-4 cursor-pointer",onClick:a[6]||(a[6]=l=>m("key"))},[e("div",ne,[de,r(p(f),{class:"w-4 h-4"})])],512),[[c,s.route().params.type=="Multiple Choice"]]),e("th",{class:"p-4 cursor-pointer",onClick:a[7]||(a[7]=l=>m("created_at"))},[e("div",pe,[e("span",null,n(s.lang().label.created),1),r(p(f),{class:"w-4 h-4"})])]),e("th",ce,n(s.lang().label.by),1),ue])]),"table-body":i(()=>[(h(!0),y(P,null,V(u.questions.data,(l,w)=>{var g;return h(),y("tr",{key:w,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",me,[d(e("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:$,value:l.id,"onUpdate:modelValue":a[8]||(a[8]=_=>t.selectedId=_)},null,40,fe),[[M,t.selectedId]])]),e("td",he,n(++w),1),e("td",{class:"whitespace-nowrap px-4 py-2 max-w-xs truncate",innerHTML:l.question},null,8,_e),e("td",ye,n(l.type=="Multiple Choice"?"Pilihan Ganda":"Essay"),1),d(e("td",{class:"whitespace-nowrap px-4 py-2 uppercase"},n(l.key),513),[[c,s.route().params.type=="Multiple Choice"]]),e("td",be,n(l.created_at),1),e("td",we,n((g=l.user)==null?void 0:g.name),1),e("td",ge,[e("div",ke,[d(r(A,{title:o.title,question:t.question,onOpen:_=>t.question=l},null,8,["title","question","onOpen"]),[[c,s.can(["question update"])]]),d(r(G,{title:o.title,question:t.question,onOpen:_=>t.question=l},null,8,["title","question","onOpen"]),[[c,s.can(["question delete"])]])])])])}),128))]),"table-pagination":i(()=>[r(L,{links:o.questions,filters:t.params},null,8,["links","filters"])]),_:1})])])])]),_:1},8,["title"]))}};export{Xe as default};
