import{h as N,i as B,O as U,o as f,c as $,w as n,a as e,t as o,b as i,j as g,k as I,u as D,d as y,f as E,l as T,e as k,F as A}from"./app-a96b9404.js";import{_ as F}from"./AppLayout-5f685138.js";import{T as M}from"./Table-cc2bf8f5.js";import{_ as q}from"./Breadcrumb-cba4c0d4.js";import{_ as G}from"./SelectInput-6bf14167.js";import{_ as J}from"./TablePagination-80699fd5.js";import{_ as K}from"./TextInput-c0b06f0e.js";import L from"./Score-3148cfec.js";import z from"./Delete-d8a732ce.js";import H from"./DeleteBulk-4224a8a0.js";import{p as Q}from"./empty-58786c2e.js";import{C as R}from"./index-78a13632.js";import{_ as W}from"./Checkbox-84e5da5f.js";import"./Banner-8bba34a4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6181452d.js";import"./SwitchDarkMode-538c7276.js";import"./ApplicationLogo-ad1997ea.js";import"./DialogModal-02108549.js";import"./Modal-f6002513.js";import"./SecondaryButton-f6d0588b.js";import"./ConfirmationModal-80b8e5de.js";import"./ActionButton-80eb8da3.js";import"./DangerButton-fb577737.js";const X={class:"py-6"},Y={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-4"},Z={class:"bg-white dark:bg-slate-800 overflow-hidden shadow sm:rounded"},ee={class:"flex shrink-0 rounded overflow-hidden"},te={class:"flex justify-end items-center gap-2"},se={class:"flex space-x-2"},ae={class:"p-4 text-left"},le=e("th",{class:"p-4 text-center"},"#",-1),re=e("th",{class:"p-4 text-left"}," Nama Anggota/Krida ",-1),oe=e("th",{class:"p-4 text-left"},"Judul Penilaian",-1),ie=e("th",{class:"p-4 text-left"},"Pasing Grade",-1),ce=e("th",{class:"p-4 text-center"},"Nilai",-1),ne={class:"flex justify-between items-center"},de=e("span",null,"Tanggal",-1),pe=e("th",{class:"p-4 text-center sr-only"},"Action",-1),me={class:"whitespace-nowrap px-4 py-2"},he=["value"],_e={class:"whitespace-nowrap px-4 py-2 text-center"},ue={class:"whitespace-nowrap px-4 py-2"},fe=e("br",null,null,-1),xe={class:"whitespace-nowrap px-4 py-2"},be=e("br",null,null,-1),ge={class:"whitespace-nowrap px-4 py-2 text-center"},ye={class:"whitespace-nowrap px-4 py-2 text-center"},ke={key:1},we={class:"whitespace-nowrap px-4 py-2"},ve={class:"whitespace-nowrap flex justify-end px-4 py-2"},$e={class:"flex w-fit rounded overflow-hidden"},Re={__name:"Index",props:{title:String,filters:Object,memberexams:Object,breadcrumbs:Object,perPage:Number},setup(w){const r=w,{_:S,debounce:V,pickBy:C}=Q,s=N({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},selectedId:[],multipleSelect:!1,memberexam:null}),O=a=>{s.params.field=a,s.params.order=s.params.order==="asc"?"desc":"asc"};B(()=>S.cloneDeep(s.params),V(()=>{let a=C(s.params);U.get(route("memberexam.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const P=a=>{var l;a.target.checked===!1?s.selectedId=[]:(l=r.memberexams)==null||l.data.forEach(t=>{s.selectedId.push(t.id)})},j=()=>{var a;((a=r.memberexams)==null?void 0:a.data.length)==s.selectedId.length?s.multipleSelect=!0:s.multipleSelect=!1},v=a=>{var h,_,u;let l=0,t=0,c=0;const x=(h=a.exam)==null?void 0:h.multiple_choice,b=(_=a.exam)==null?void 0:_.essay;let m=0;return(u=a.exam_answers)==null||u.forEach(d=>{var p;((p=d.question)==null?void 0:p.type)=="Multiple Choice"?(t+=d.score,m++):c+=d.score}),t=100/m*t,t=t*x/100,c=c*b/100,l=t+c,l};return(a,l)=>(f(),$(F,{title:r.title},{title:n(()=>[e("span",null,o(r.title),1)]),breadcrumb:n(()=>[i(q)]),default:n(()=>[e("div",X,[e("div",Y,[e("div",Z,[i(M,null,{"table-action":n(()=>[e("div",ee,[g(i(H,{selectedId:s.selectedId,title:r.title,onClose:l[0]||(l[0]=t=>(s.selectedId=[],s.multipleSelect=!1))},null,8,["selectedId","title"]),[[I,s.selectedId.length!=0&&a.can(["memberexam delete"])]])]),e("div",te,[e("div",se,[i(G,{class:"h-9 text-sm",modelValue:s.params.perPage,"onUpdate:modelValue":l[1]||(l[1]=t=>s.params.perPage=t),dataSet:a.$page.props.app.perpage},null,8,["modelValue","dataSet"])]),i(K,{modelValue:s.params.search,"onUpdate:modelValue":l[2]||(l[2]=t=>s.params.search=t),type:"text",class:"block h-9",placeholder:a.lang().placeholder.search},null,8,["modelValue","placeholder"])])]),"table-head":n(()=>[e("tr",null,[e("th",ae,[i(W,{checked:s.multipleSelect,"onUpdate:checked":l[3]||(l[3]=t=>s.multipleSelect=t),onChange:P},null,8,["checked"])]),le,re,oe,ie,ce,e("th",{class:"p-4 cursor-pointer",onClick:l[4]||(l[4]=t=>O("created_at"))},[e("div",ne,[de,i(D(R),{class:"w-4 h-4"})])]),pe])]),"table-body":n(()=>[(f(!0),y(A,null,E(w.memberexams.data,(t,c)=>{var x,b,m,h,_,u,d;return f(),y("tr",{key:c,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",me,[g(e("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:j,value:t.id,"onUpdate:modelValue":l[5]||(l[5]=p=>s.selectedId=p)},null,40,he),[[T,s.selectedId]])]),e("td",_e,o(++c),1),e("td",ue,[k(o((x=t.member)==null?void 0:x.name)+" ",1),fe,e("small",null,o((m=(b=t.member)==null?void 0:b.grade)==null?void 0:m.name),1)]),e("td",xe,[k(o((h=t.exam)==null?void 0:h.title)+" ",1),be,k(" Pilgan : "+o((_=t.exam)==null?void 0:_.multiple_choice)+"%. Essay : "+o((u=t.exam)==null?void 0:u.essay)+"% ",1)]),e("td",ge,o((d=t.exam)==null?void 0:d.passing_grade),1),e("td",ye,[a.can(["memberexam correction"])?(f(),$(L,{key:0,title:v(t),memberexam:s.memberexam,onOpen:p=>s.memberexam=t},null,8,["title","memberexam","onOpen"])):(f(),y("p",ke,o(v(t)),1))]),e("td",we,o(t.created_at),1),e("td",ve,[e("div",$e,[g(i(z,{title:r.title,memberexam:s.memberexam,onOpen:p=>s.memberexam=t},null,8,["title","memberexam","onOpen"]),[[I,a.can(["memberexam delete"])]])])])])}),128))]),"table-pagination":n(()=>[i(J,{links:r.memberexams,filters:s.params},null,8,["links","filters"])]),_:1})])])])]),_:1},8,["title"]))}};export{Re as default};
