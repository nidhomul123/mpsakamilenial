import{h as I,i as S,O as j,o as u,c as C,w as n,a as e,t as i,b as o,j as d,k as c,u as f,d as w,f as O,l as V,F as B}from"./app-a96b9404.js";import{_ as D}from"./AppLayout-5f685138.js";import{T as P}from"./Table-cc2bf8f5.js";import{_ as U}from"./Breadcrumb-cba4c0d4.js";import{_ as N}from"./SelectInput-6bf14167.js";import{_ as A}from"./TablePagination-80699fd5.js";import{_ as E}from"./TextInput-c0b06f0e.js";import F from"./Create-7a03e5d7.js";import T from"./Edit-8fc5cda1.js";import L from"./Delete-fddd5ac5.js";import M from"./DeleteBulk-22108e88.js";import{p as q}from"./empty-58786c2e.js";import{C as h}from"./index-78a13632.js";import{_ as z}from"./Checkbox-84e5da5f.js";import"./Banner-8bba34a4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6181452d.js";import"./SwitchDarkMode-538c7276.js";import"./ApplicationLogo-ad1997ea.js";import"./DialogModal-02108549.js";import"./Modal-f6002513.js";import"./ImageInput-ba4ecf39.js";import"./InputError-9f6d638b.js";import"./InputLabel-aac3b093.js";import"./PrimaryButton-aac607c9.js";import"./SecondaryButton-f6d0588b.js";import"./TextAreaInput-687fbf4c.js";import"./vue-quill.snow-44c41065.js";import"./ActionButton-80eb8da3.js";import"./ConfirmationModal-80b8e5de.js";import"./DangerButton-fb577737.js";const G={class:"py-6"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-4"},J={class:"bg-white dark:bg-slate-800 overflow-hidden shadow sm:rounded"},K={class:"flex shrink-0 rounded overflow-hidden"},Q={class:"flex justify-end items-center gap-2"},R={class:"flex space-x-2"},W={class:"p-4 text-left"},X=e("th",{class:"p-4 text-center"},"#",-1),Y={class:"flex justify-between items-center"},Z={class:"flex justify-between items-center"},ee=e("span",null,"Deskripsi",-1),te={class:"flex justify-between items-center"},se={class:"p-4 text-left"},ae=e("th",{class:"p-4 text-center sr-only"}," Action ",-1),le={class:"whitespace-nowrap px-4 py-2"},re=["value"],oe={class:"whitespace-nowrap px-4 py-2 text-center"},ie={class:"whitespace-nowrap px-4 py-2 max-w-xs truncate"},ne={class:"flex space-x-2 items-center"},de=["src","alt"],ce={class:"max-w-xs truncate"},pe={class:"whitespace-nowrap px-4 py-2 max-w-xs truncate"},me={class:"whitespace-nowrap px-4 py-2"},ue={class:"whitespace-nowrap px-4 py-2"},fe={class:"whitespace-nowrap flex justify-end px-4 py-2"},he={class:"flex w-fit rounded overflow-hidden"},Ke={__name:"Index",props:{title:String,filters:Object,grades:Object,breadcrumbs:Object,perPage:Number},setup(_){const r=_,{_:x,debounce:k,pickBy:v}=q,t=I({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},selectedId:[],multipleSelect:!1,grade:null}),p=l=>{t.params.field=l,t.params.order=t.params.order==="asc"?"desc":"asc"};S(()=>x.cloneDeep(t.params),k(()=>{let l=v(t.params);j.get(route("grade.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const y=l=>{var a;l.target.checked===!1?t.selectedId=[]:(a=r.grades)==null||a.data.forEach(s=>{t.selectedId.push(s.id)})},$=()=>{var l;((l=r.grades)==null?void 0:l.data.length)==t.selectedId.length?t.multipleSelect=!0:t.multipleSelect=!1};return(l,a)=>(u(),C(D,{title:r.title},{title:n(()=>[e("span",null,i(r.title),1)]),breadcrumb:n(()=>[o(U)]),default:n(()=>[e("div",G,[e("div",H,[e("div",J,[o(P,null,{"table-action":n(()=>[e("div",K,[d(o(F,{title:r.title},null,8,["title"]),[[c,l.can(["grade create"])]]),d(o(M,{selectedId:t.selectedId,title:r.title,onClose:a[0]||(a[0]=s=>(t.selectedId=[],t.multipleSelect=!1))},null,8,["selectedId","title"]),[[c,t.selectedId.length!=0&&l.can(["grade delete"])]])]),e("div",Q,[e("div",R,[o(N,{class:"h-9 text-sm",modelValue:t.params.perPage,"onUpdate:modelValue":a[1]||(a[1]=s=>t.params.perPage=s),dataSet:l.$page.props.app.perpage},null,8,["modelValue","dataSet"])]),o(E,{modelValue:t.params.search,"onUpdate:modelValue":a[2]||(a[2]=s=>t.params.search=s),type:"text",class:"block h-9",placeholder:l.lang().placeholder.search},null,8,["modelValue","placeholder"])])]),"table-head":n(()=>[e("tr",null,[e("th",W,[o(z,{checked:t.multipleSelect,"onUpdate:checked":a[3]||(a[3]=s=>t.multipleSelect=s),onChange:y},null,8,["checked"])]),X,e("th",{class:"p-4 cursor-pointer",onClick:a[4]||(a[4]=s=>p("name"))},[e("div",Y,[e("span",null,i(l.lang().label.name),1),o(f(h),{class:"w-4 h-4"})])]),e("th",{class:"p-4 cursor-pointer",onClick:a[5]||(a[5]=s=>p("description"))},[e("div",Z,[ee,o(f(h),{class:"w-4 h-4"})])]),e("th",{class:"p-4 cursor-pointer",onClick:a[6]||(a[6]=s=>p("created_at"))},[e("div",te,[e("span",null,i(l.lang().label.created),1),o(f(h),{class:"w-4 h-4"})])]),e("th",se,i(l.lang().label.by),1),ae])]),"table-body":n(()=>[(u(!0),w(B,null,O(_.grades.data,(s,g)=>{var b;return u(),w("tr",{key:g,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",le,[d(e("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:$,value:s.id,"onUpdate:modelValue":a[7]||(a[7]=m=>t.selectedId=m)},null,40,re),[[V,t.selectedId]])]),e("td",oe,i(++g),1),e("td",ie,[e("div",ne,[e("img",{class:"w-10 h-10 object-cover rounded",src:s.full_path_image,alt:s.name},null,8,de),e("p",ce,i(s.name),1)])]),e("td",pe,i(s.description),1),e("td",me,i(s.created_at),1),e("td",ue,i((b=s.user)==null?void 0:b.name),1),e("td",fe,[e("div",he,[d(o(T,{title:r.title,grade:t.grade,onOpen:m=>t.grade=s},null,8,["title","grade","onOpen"]),[[c,l.can(["grade update"])]]),d(o(L,{title:r.title,grade:t.grade,onOpen:m=>t.grade=s},null,8,["title","grade","onOpen"]),[[c,l.can(["grade delete"])]])])])])}),128))]),"table-pagination":n(()=>[o(A,{links:r.grades,filters:t.params},null,8,["links","filters"])]),_:1})])])])]),_:1},8,["title"]))}};export{Ke as default};
