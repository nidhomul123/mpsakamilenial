import{v as $,U as D,r as K,o as c,c as N,w as n,a as s,t as o,b as l,u as a,d as r,f as V,j as H,k as L,g as M,F as E,p as F,n as T,e as I}from"./app-a96b9404.js";import{_ as U}from"./AppLayout-5f685138.js";import{_ as O}from"./Breadcrumb-cba4c0d4.js";import{_ as Q}from"./InputError-9f6d638b.js";import{_ as q}from"./PrimaryButton-aac607c9.js";import S from"./Delete-8908a073.js";import{f as z,q as J,p as A}from"./index-78a13632.js";import{Q as G}from"./vue-quill.snow-44c41065.js";import"./Banner-8bba34a4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6181452d.js";import"./SwitchDarkMode-538c7276.js";import"./ApplicationLogo-ad1997ea.js";import"./ConfirmationModal-80b8e5de.js";import"./Modal-f6002513.js";import"./DangerButton-fb577737.js";import"./SecondaryButton-f6d0588b.js";const P={class:"py-6"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"w-full"},X={class:"text-2xl font-semibold"},Y={class:"flex justify-start items-center gap-1 text-sm"},Z={class:""},ss={class:""},ts={class:""},es={class:"mt-4 space-y-4"},os=["src","alt"],as=["innerHTML"],ls={class:"my-4 py-4 space-y-4 border-t border-slate-300 dark:border-slate-700"},is={class:"text-lg font-bold"},cs={key:0,class:"flex gap-2 items-start"},ns=["src","alt"],rs={class:"flex flex-col"},ds={class:"flex gap-2 items-center"},_s={class:"font-bold"},ms={class:"text-sm"},us=["innerHTML"],ps={key:1,class:"flex gap-2 items-start"},hs=["src","alt"],fs={class:"flex flex-col"},bs={class:"flex gap-2 items-center"},xs={class:"font-bold"},vs={class:"text-sm"},gs=["innerHTML"],ys=["onSubmit"],js={class:"space-y-2"},ws={class:"space-y-1"},ks={class:"flex justify-end"},Qs={__name:"Detail",props:{title:String,subject:Object},setup(C){var m;const e=C,i=$({user_id:D().props.auth.user.id,text:"",subject_id:(m=e.subject)==null?void 0:m.id}),d=K(),_=()=>{i.post(route("comment.store"),{preserveScroll:!0,onSuccess:()=>d.value.setHTML(""),onError:()=>null,onFinish:()=>null})};return(u,p)=>(c(),N(U,{title:e.title},{title:n(()=>[s("span",null,o(e.title),1)]),breadcrumb:n(()=>[l(O)]),default:n(()=>{var h,f,b,x,v,g,y,j,w,k;return[s("div",P,[s("div",R,[s("div",W,[s("p",X,o((h=e.subject)==null?void 0:h.title),1),s("div",Y,[l(a(z),{class:"w-3 h-auto"}),s("p",Z,o((b=(f=e.subject)==null?void 0:f.user)==null?void 0:b.name),1),l(a(J),{class:"ml-2 w-3 h-auto"}),s("p",ss,o((x=e.subject)==null?void 0:x.created_at),1),l(a(A),{class:"ml-2 w-3 h-auto"}),s("p",ts,o((v=e.subject)==null?void 0:v.comments.length),1)]),s("div",es,[s("img",{class:"rounded shadow text-center",src:(g=e.subject)==null?void 0:g.full_path_image,alt:(y=e.subject)==null?void 0:y.title},null,8,os),s("div",{class:"no-tailwindcss-base",innerHTML:(j=e.subject)==null?void 0:j.subject},null,8,as)]),s("div",ls,[s("h1",is," Komentar ("+o((w=e.subject)==null?void 0:w.comments.length)+") ",1),(c(!0),r(E,null,V((k=e.subject)==null?void 0:k.comments,(t,B)=>(c(),r("div",{key:B},[t.user?(c(),r("div",cs,[s("img",{src:t.user.profile_photo_url,alt:t.user.name,class:"rounded-full h-10 w-10 object-cover"},null,8,ns),s("div",rs,[s("div",ds,[s("p",_s,o(t.user.name),1),s("p",ms,o(t.created_at),1),H(l(S,{title:"Hapus Komentar",comment:t},null,8,["comment"]),[[L,u.can(["comment delete"])]])]),s("div",{class:"no-tailwindcss-base",innerHTML:t.text},null,8,us)])])):M("",!0),t.member?(c(),r("div",ps,[s("img",{src:t.member.full_path_image,alt:t.member.name,class:"rounded-full h-10 w-10 object-cover"},null,8,hs),s("div",fs,[s("div",bs,[s("p",xs,o(t.member.name),1),s("p",vs,o(t.created_at),1),H(l(S,{title:"Hapus Komentar",comment:t},null,8,["comment"]),[[L,u.can(["comment delete"])]])]),s("div",{class:"no-tailwindcss-base",innerHTML:t.text},null,8,gs)])])):M("",!0)]))),128)),s("form",{class:"space-y-2",onSubmit:F(_,["prevent"])},[s("div",js,[s("div",ws,[l(a(G),{id:"text",ref_key:"text",ref:d,style:"border: none",content:a(i).text,"onUpdate:content":p[0]||(p[0]=t=>a(i).text=t),theme:"snow",toolbar:"essential","content-type":"html",class:T("rounded")},null,8,["content"]),l(Q,{message:a(i).errors.text},null,8,["message"])])]),s("div",ks,[l(q,{class:T({"opacity-25":a(i).processing}),disabled:a(i).processing,onClick:_},{default:n(()=>[I(" Kirim "+o(a(i).processing?"...":""),1)]),_:1},8,["class","disabled"])])],40,ys)])])])])]}),_:1},8,["title"]))}};export{Qs as default};
