import{r as V,v as C,h as K,B as S,m as B,o as h,d as D,j as N,c as U,w as n,b as o,u as s,p as b,e as _,t as c,a as l,n as w}from"./app-a96b9404.js";import{_ as E}from"./DialogModal-02108549.js";import{_ as j}from"./ImageInput-ba4ecf39.js";import{_ as u}from"./InputError-9f6d638b.js";import{_ as p}from"./InputLabel-aac3b093.js";import{_ as x}from"./ActionButton-80eb8da3.js";import{_ as F}from"./PrimaryButton-aac607c9.js";import{_ as M}from"./SecondaryButton-f6d0588b.js";import{_ as O}from"./TextInput-c0b06f0e.js";import{_ as P}from"./TextAreaInput-687fbf4c.js";import{a as Q}from"./index-78a13632.js";import{Q as T}from"./vue-quill.snow-44c41065.js";import"./Modal-f6002513.js";const z=["onSubmit"],I={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},W={class:"space-y-2"},q={class:"space-y-1"},A={class:"space-y-1"},G={class:"space-y-1"},H={class:"space-y-2 sm:col-span-2"},J={class:"space-y-1"},ne={__name:"Edit",props:{title:String,roles:Object,grade:Object},emits:["open"],setup(y,{emit:k}){const t=y,m=V(!1),e=C({name:"",image:null,description:"",curriculum:"",_method:"PUT"}),g=K({image:null});S(()=>{var a,r,d,i;m&&(g.image=(a=t.grade)==null?void 0:a.full_path_image,e.name=(r=t.grade)==null?void 0:r.name,e.description=(d=t.grade)==null?void 0:d.description,e.curriculum=(i=t.grade)==null?void 0:i.curriculum)});const v=()=>{var a;e.post(route("grade.update",(a=t.grade)==null?void 0:a.id),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>null,onFinish:()=>null})},f=()=>{m.value=!1,e.errors={},e.reset()},$=a=>{e.image=a.file};return(a,r)=>{const d=B("tooltip");return h(),D("div",null,[N((h(),U(x,{onClick:r[0]||(r[0]=b(i=>(m.value=!0,k("open")),["prevent"]))},{default:n(()=>[o(s(Q),{class:"w-4 h-auto"})]),_:1})),[[d,a.lang().label.edit]]),o(E,{show:m.value,onClose:f,maxWidth:"6xl"},{title:n(()=>[_(c(a.lang().label.edit)+" "+c(t.title),1)]),content:n(()=>[l("form",{class:"space-y-2",onSubmit:b(v,["prevent"])},[l("div",I,[l("div",W,[l("div",q,[o(p,{for:"name",value:"Foto Krida"}),o(j,{class:"w-full h-60",onFileChange:$,image:g.image},null,8,["image"]),o(u,{message:s(e).errors.image},null,8,["message"])]),l("div",A,[o(p,{for:"name",value:"Nama Krida"}),o(O,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":r[1]||(r[1]=i=>s(e).name=i),type:"text",class:"block w-full",autocomplete:"name",placeholder:"Nama Krida",error:s(e).errors.name},null,8,["modelValue","error"]),o(u,{message:s(e).errors.name},null,8,["message"])]),l("div",G,[o(p,{for:"description",value:"Deskripsi Krida"}),o(P,{id:"description",modelValue:s(e).description,"onUpdate:modelValue":r[2]||(r[2]=i=>s(e).description=i),class:"block w-full",rows:"4",autocomplete:"description",placeholder:"Deskripsi Krida",error:s(e).errors.description},null,8,["modelValue","error"]),o(u,{message:s(e).errors.description},null,8,["message"])])]),l("div",H,[l("div",J,[o(p,{for:"curriculum",value:"Kurikulum"}),o(s(T),{id:"curriculum",style:"border: none",content:s(e).curriculum,"onUpdate:content":r[3]||(r[3]=i=>s(e).curriculum=i),theme:"snow",toolbar:"full","content-type":"html",class:w("rounded")},null,8,["content"]),o(u,{message:s(e).errors.curriculum},null,8,["message"])])])])],40,z)]),footer:n(()=>[o(M,{onClick:f},{default:n(()=>[_(c(a.lang().button.cancel),1)]),_:1}),o(F,{class:w(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:v},{default:n(()=>[_(c(a.lang().button.save)+" "+c(s(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])}}};export{ne as default};
