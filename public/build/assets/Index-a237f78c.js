import{h as I,i as S,O as C,o as m,c as O,w as i,a as t,t as n,b as o,j as d,k as c,u as b,d as g,f as V,l as j,F as B}from"./app-a96b9404.js";import{_ as P}from"./AppLayout-5f685138.js";import{T as U}from"./Table-cc2bf8f5.js";import{_ as D}from"./Breadcrumb-cba4c0d4.js";import{_ as N}from"./SelectInput-6bf14167.js";import{_ as A}from"./TablePagination-80699fd5.js";import{_ as E}from"./TextInput-c0b06f0e.js";import F from"./Create-6144b8ca.js";import T from"./Edit-0570722f.js";import L from"./Delete-8908a073.js";import M from"./DeleteBulk-58bc39e5.js";import{p as q}from"./empty-58786c2e.js";import{C as k}from"./index-78a13632.js";import{_ as z}from"./Checkbox-84e5da5f.js";import"./Banner-8bba34a4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6181452d.js";import"./SwitchDarkMode-538c7276.js";import"./ApplicationLogo-ad1997ea.js";import"./DialogModal-02108549.js";import"./Modal-f6002513.js";import"./InputError-9f6d638b.js";import"./InputLabel-aac3b093.js";import"./PrimaryButton-aac607c9.js";import"./SecondaryButton-f6d0588b.js";import"./ActionButton-80eb8da3.js";import"./ConfirmationModal-80b8e5de.js";import"./DangerButton-fb577737.js";const G={class:"py-6"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-4"},J={class:"bg-white dark:bg-slate-800 overflow-hidden shadow sm:rounded"},K={class:"flex shrink-0 rounded overflow-hidden"},Q={class:"flex justify-end items-center gap-2"},R={class:"flex space-x-2"},W={class:"p-4 text-left"},X=t("th",{class:"p-4 text-center"},"#",-1),Y={class:"flex justify-between items-center"},Z={class:"flex justify-between items-center"},ee={class:"p-4 text-left"},te=t("th",{class:"p-4 text-center sr-only"}," Action ",-1),se={class:"whitespace-nowrap px-4 py-2"},ae=["value"],le={class:"whitespace-nowrap px-4 py-2 text-center"},re={class:"whitespace-nowrap px-4 py-2"},oe={class:"whitespace-nowrap px-4 py-2"},ne={class:"whitespace-nowrap px-4 py-2"},ie={class:"whitespace-nowrap flex justify-end px-4 py-2"},de={class:"flex w-fit rounded overflow-hidden"},Fe={__name:"Index",props:{title:String,filters:Object,comments:Object,breadcrumbs:Object,perPage:Number},setup(f){const r=f,{_:w,debounce:v,pickBy:y}=q,e=I({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},selectedId:[],multipleSelect:!1,comment:null}),u=s=>{e.params.field=s,e.params.order=e.params.order==="asc"?"desc":"asc"};S(()=>w.cloneDeep(e.params),v(()=>{let s=y(e.params);C.get(route("comment.index"),s,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const x=s=>{var a;s.target.checked===!1?e.selectedId=[]:(a=r.comments)==null||a.data.forEach(l=>{e.selectedId.push(l.id)})},$=()=>{var s;((s=r.comments)==null?void 0:s.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(s,a)=>(m(),O(P,{title:r.title},{title:i(()=>[t("span",null,n(r.title),1)]),breadcrumb:i(()=>[o(D)]),default:i(()=>[t("div",G,[t("div",H,[t("div",J,[o(U,null,{"table-action":i(()=>[t("div",K,[d(o(F,{title:r.title},null,8,["title"]),[[c,s.can(["comment create"])]]),d(o(M,{selectedId:e.selectedId,title:r.title,onClose:a[0]||(a[0]=l=>(e.selectedId=[],e.multipleSelect=!1))},null,8,["selectedId","title"]),[[c,e.selectedId.length!=0&&s.can(["comment delete"])]])]),t("div",Q,[t("div",R,[o(N,{class:"h-9 text-sm",modelValue:e.params.perPage,"onUpdate:modelValue":a[1]||(a[1]=l=>e.params.perPage=l),dataSet:s.$page.props.app.perpage},null,8,["modelValue","dataSet"])]),o(E,{modelValue:e.params.search,"onUpdate:modelValue":a[2]||(a[2]=l=>e.params.search=l),type:"text",class:"block h-9",placeholder:s.lang().placeholder.search},null,8,["modelValue","placeholder"])])]),"table-head":i(()=>[t("tr",null,[t("th",W,[o(z,{checked:e.multipleSelect,"onUpdate:checked":a[3]||(a[3]=l=>e.multipleSelect=l),onChange:x},null,8,["checked"])]),X,t("th",{class:"p-4 cursor-pointer",onClick:a[4]||(a[4]=l=>u("name"))},[t("div",Y,[t("span",null,n(s.lang().label.name),1),o(b(k),{class:"w-4 h-4"})])]),t("th",{class:"p-4 cursor-pointer",onClick:a[5]||(a[5]=l=>u("created_at"))},[t("div",Z,[t("span",null,n(s.lang().label.created),1),o(b(k),{class:"w-4 h-4"})])]),t("th",ee,n(s.lang().label.by),1),te])]),"table-body":i(()=>[(m(!0),g(B,null,V(f.comments.data,(l,h)=>{var _;return m(),g("tr",{key:h,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[t("td",se,[d(t("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:$,value:l.id,"onUpdate:modelValue":a[6]||(a[6]=p=>e.selectedId=p)},null,40,ae),[[j,e.selectedId]])]),t("td",le,n(++h),1),t("td",re,n(l.name),1),t("td",oe,n(l.created_at),1),t("td",ne,n((_=l.user)==null?void 0:_.name),1),t("td",ie,[t("div",de,[d(o(T,{title:r.title,comment:e.comment,onOpen:p=>e.comment=l},null,8,["title","comment","onOpen"]),[[c,s.can(["comment update"])]]),d(o(L,{title:r.title,comment:e.comment,onOpen:p=>e.comment=l},null,8,["title","comment","onOpen"]),[[c,s.can(["comment delete"])]])])])])}),128))]),"table-pagination":i(()=>[o(A,{links:r.comments,filters:e.params},null,8,["links","filters"])]),_:1})])])])]),_:1},8,["title"]))}};export{Fe as default};
