import{r as M,v as S,h as U,B,m as D,o as j,d as E,j as x,c as F,w as n,b as t,u as s,p as y,e as f,t as d,a as i,n as w}from"./app-a96b9404.js";import{_ as N}from"./DialogModal-02108549.js";import{_ as c}from"./InputError-9f6d638b.js";import{_ as J}from"./ImageInput-ba4ecf39.js";import{_ as m}from"./InputLabel-aac3b093.js";import{_ as O}from"./ActionButton-80eb8da3.js";import{_ as P}from"./PrimaryButton-aac607c9.js";import{_ as Q}from"./SecondaryButton-f6d0588b.js";import{_ as T}from"./TextInput-c0b06f0e.js";import{_ as z}from"./TextAreaInput-687fbf4c.js";import{_ as I}from"./SelectInput-6bf14167.js";import{a as K}from"./index-78a13632.js";import{Q as W}from"./vue-quill.snow-44c41065.js";import"./Modal-f6002513.js";const q=["onSubmit"],A={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},G={class:"space-y-2"},H={class:"space-y-1"},L={class:"space-y-1"},R={class:"space-y-1"},X={class:"space-y-1"},Y={class:"space-y-2 sm:col-span-2"},Z={class:"space-y-1"},_e={__name:"Edit",props:{title:String,grades:Object,subject:Object},emits:["open"],setup(V,{emit:k}){var v;const r=V,u=M(!1),e=S({grade_id:"",title:"",image:null,description:"",subject:"",_method:"PUT"}),g=U({image:null});B(()=>{var o,a,p,l,h;u&&(g.image=(o=r.subject)==null?void 0:o.full_path_image,e.grade_id=(a=r.subject)==null?void 0:a.grade_id,e.title=(p=r.subject)==null?void 0:p.title,e.description=(l=r.subject)==null?void 0:l.description,e.subject=(h=r.subject)==null?void 0:h.subject)});const b=()=>{var o;e.post(route("subject.update",(o=r.subject)==null?void 0:o.id),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>null,onFinish:()=>null})},_=()=>{u.value=!1,e.errors={},e.reset()},$=o=>{e.image=o.file},C=(v=r.grades)==null?void 0:v.map(o=>({label:o.name,value:o.id}));return(o,a)=>{const p=D("tooltip");return j(),E("div",null,[x((j(),F(O,{onClick:a[0]||(a[0]=y(l=>(u.value=!0,k("open")),["prevent"]))},{default:n(()=>[t(s(K),{class:"w-4 h-auto"})]),_:1})),[[p,o.lang().label.edit]]),t(N,{show:u.value,onClose:_,maxWidth:"6xl"},{title:n(()=>[f(d(o.lang().label.edit)+" "+d(r.title),1)]),content:n(()=>[i("form",{class:"space-y-2",onSubmit:y(b,["prevent"])},[i("div",A,[i("div",G,[i("div",H,[t(m,{for:"name",value:"Foto Materi"}),t(J,{class:"w-full h-60",onFileChange:$,image:g.image},null,8,["image"]),t(c,{message:s(e).errors.image},null,8,["message"])]),i("div",L,[t(m,{for:"title",value:"Judul Materi"}),t(T,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":a[1]||(a[1]=l=>s(e).title=l),type:"text",class:"block w-full",autocomplete:"title",placeholder:"Judul Materi",error:s(e).errors.title},null,8,["modelValue","error"]),t(c,{message:s(e).errors.title},null,8,["message"])]),i("div",R,[t(m,{for:"grade_id",value:"Krida"}),t(I,{id:"grade_id",modelValue:s(e).grade_id,"onUpdate:modelValue":a[2]||(a[2]=l=>s(e).grade_id=l),dataSet:s(C),class:"block w-full",error:s(e).errors.grade_id},null,8,["modelValue","dataSet","error"]),t(c,{message:s(e).errors.grade_id},null,8,["message"])]),i("div",X,[t(m,{for:"description",value:"Deskripsi Materi"}),t(z,{id:"description",modelValue:s(e).description,"onUpdate:modelValue":a[3]||(a[3]=l=>s(e).description=l),class:"block w-full",rows:"4",autocomplete:"description",placeholder:"Deskripsi Materi",error:s(e).errors.description},null,8,["modelValue","error"]),t(c,{message:s(e).errors.description},null,8,["message"])])]),i("div",Y,[i("div",Z,[t(m,{for:"subject",value:"Materi"}),t(s(W),{id:"subject",style:"border: none",content:s(e).subject,"onUpdate:content":a[4]||(a[4]=l=>s(e).subject=l),theme:"snow",toolbar:"full","content-type":"html",class:w("rounded")},null,8,["content"]),t(c,{message:s(e).errors.subject},null,8,["message"])])])])],40,q)]),footer:n(()=>[t(Q,{onClick:_},{default:n(()=>[f(d(o.lang().button.cancel),1)]),_:1}),t(P,{class:w(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:b},{default:n(()=>[f(d(o.lang().button.save)+" "+d(s(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])}}};export{_e as default};
