import{h as j,i as C,O as I,o as f,c as O,w as i,a as e,t as n,b as o,j as c,k as u,u as p,d as g,f as V,l as P,e as x,n as B,F as U}from"./app-a96b9404.js";import{_ as D}from"./AppLayout-5f685138.js";import{T as N}from"./Table-cc2bf8f5.js";import{_ as A}from"./Breadcrumb-cba4c0d4.js";import{_ as T}from"./SelectInput-6bf14167.js";import{_ as E}from"./TablePagination-80699fd5.js";import{_ as F}from"./TextInput-c0b06f0e.js";import L from"./Create-920e1874.js";import M from"./Edit-81881bfd.js";import z from"./Delete-4580cb7e.js";import K from"./DeleteBulk-0839ee6b.js";import{p as q}from"./empty-58786c2e.js";import{C as m}from"./index-78a13632.js";import{_ as G}from"./Checkbox-84e5da5f.js";import"./Banner-8bba34a4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6181452d.js";import"./SwitchDarkMode-538c7276.js";import"./ApplicationLogo-ad1997ea.js";import"./DialogModal-02108549.js";import"./Modal-f6002513.js";import"./ImageInput-ba4ecf39.js";import"./InputError-9f6d638b.js";import"./InputLabel-aac3b093.js";import"./PrimaryButton-aac607c9.js";import"./SecondaryButton-f6d0588b.js";import"./TextAreaInput-687fbf4c.js";import"./ActionButton-80eb8da3.js";import"./ConfirmationModal-80b8e5de.js";import"./DangerButton-fb577737.js";const H={class:"py-6"},J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-4"},Q={class:"bg-white dark:bg-slate-800 overflow-hidden shadow sm:rounded"},R={class:"flex shrink-0 rounded overflow-hidden"},W={class:"flex justify-end items-center gap-2"},X={class:"flex space-x-2"},Y={class:"p-4 text-left"},Z=e("th",{class:"p-4 text-center"},"#",-1),ee={class:"flex justify-between items-center"},te={class:"flex justify-between items-center"},se=e("span",null,"L/P",-1),ae=e("th",{class:"p-4 text-left"}," Krida Saka Milenial ",-1),le={class:"flex justify-between items-center"},re=e("span",null,"Alamat",-1),oe={class:"flex justify-between items-center"},ne=e("span",null,"Status",-1),ie={class:"flex justify-between items-center"},de=e("th",{class:"p-4 text-center sr-only"},"Action",-1),ce={class:"whitespace-nowrap px-4 py-2"},pe=["value"],me={class:"whitespace-nowrap px-4 py-2 text-center"},ue={class:"whitespace-nowrap px-4 py-2 max-w-xs truncate"},he={class:"flex space-x-2 items-center"},fe=["src","alt"],_e={class:"max-w-xs truncate"},be=e("br",null,null,-1),we={class:"whitespace-nowrap px-4 py-2"},ge={class:"whitespace-nowrap px-4 py-2 max-w-xs truncate"},xe={class:"whitespace-nowrap px-4 py-2 max-w-xs truncate"},ve={class:"whitespace-nowrap px-4 py-2"},ke={class:"whitespace-nowrap flex justify-end px-4 py-2"},ye={class:"flex w-fit rounded overflow-hidden"},et={__name:"Index",props:{title:String,filters:Object,members:Object,grades:Object,breadcrumbs:Object,perPage:Number},setup(_){const r=_,{_:v,debounce:k,pickBy:y}=q,s=j({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},selectedId:[],multipleSelect:!1,member:null}),d=l=>{s.params.field=l,s.params.order=s.params.order==="asc"?"desc":"asc"};C(()=>v.cloneDeep(s.params),k(()=>{let l=y(s.params);I.get(route("member.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const $=l=>{var a;l.target.checked===!1?s.selectedId=[]:(a=r.members)==null||a.data.forEach(t=>{s.selectedId.push(t.id)})},S=()=>{var l;((l=r.members)==null?void 0:l.data.length)==s.selectedId.length?s.multipleSelect=!0:s.multipleSelect=!1};return(l,a)=>(f(),O(D,{title:r.title},{title:i(()=>[e("span",null,n(r.title),1)]),breadcrumb:i(()=>[o(A)]),default:i(()=>[e("div",H,[e("div",J,[e("div",Q,[o(N,null,{"table-action":i(()=>[e("div",R,[c(o(L,{title:r.title,grades:r.grades},null,8,["title","grades"]),[[u,l.can(["member create"])]]),c(o(K,{selectedId:s.selectedId,title:r.title,onClose:a[0]||(a[0]=t=>(s.selectedId=[],s.multipleSelect=!1))},null,8,["selectedId","title"]),[[u,s.selectedId.length!=0&&l.can(["member delete"])]])]),e("div",W,[e("div",X,[o(T,{class:"h-9 text-sm",modelValue:s.params.perPage,"onUpdate:modelValue":a[1]||(a[1]=t=>s.params.perPage=t),dataSet:l.$page.props.app.perpage},null,8,["modelValue","dataSet"])]),o(F,{modelValue:s.params.search,"onUpdate:modelValue":a[2]||(a[2]=t=>s.params.search=t),type:"text",class:"block h-9",placeholder:l.lang().placeholder.search},null,8,["modelValue","placeholder"])])]),"table-head":i(()=>[e("tr",null,[e("th",Y,[o(G,{checked:s.multipleSelect,"onUpdate:checked":a[3]||(a[3]=t=>s.multipleSelect=t),onChange:$},null,8,["checked"])]),Z,e("th",{class:"p-4 cursor-pointer",onClick:a[4]||(a[4]=t=>d("name"))},[e("div",ee,[e("span",null,n(l.lang().label.name),1),o(p(m),{class:"w-4 h-4"})])]),e("th",{class:"p-4 cursor-pointer",onClick:a[5]||(a[5]=t=>d("gender"))},[e("div",te,[se,o(p(m),{class:"w-4 h-4"})])]),ae,e("th",{class:"p-4 cursor-pointer",onClick:a[6]||(a[6]=t=>d("address"))},[e("div",le,[re,o(p(m),{class:"w-4 h-4"})])]),e("th",{class:"p-4 cursor-pointer",onClick:a[7]||(a[7]=t=>d("status"))},[e("div",oe,[ne,o(p(m),{class:"w-4 h-4"})])]),e("th",{class:"p-4 cursor-pointer",onClick:a[8]||(a[8]=t=>d("created_at"))},[e("div",ie,[e("span",null,n(l.lang().label.created),1),o(p(m),{class:"w-4 h-4"})])]),de])]),"table-body":i(()=>[(f(!0),g(U,null,V(_.members.data,(t,b)=>{var w;return f(),g("tr",{key:b,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",ce,[c(e("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:S,value:t.id,"onUpdate:modelValue":a[9]||(a[9]=h=>s.selectedId=h)},null,40,pe),[[P,s.selectedId]])]),e("td",me,n(++b),1),e("td",ue,[e("div",he,[e("img",{class:"w-14 h-14 object-cover rounded",src:t.full_path_image,alt:t.name},null,8,fe),e("p",_e,[x(n(t.name)+" ",1),be,x(" "+n(t.email),1)])])]),e("td",we,n(t.gender),1),e("td",ge,n((w=t.grade)==null?void 0:w.name),1),e("td",xe,n(t.address),1),e("td",{class:B([t.status=="terdaftar"?"text-blue-500":t.status=="diterima"?"text-green-500":"text-red-500","whitespace-nowrap px-4 py-2 uppercase font-bold"])},n(t.status),3),e("td",ve,n(t.created_at),1),e("td",ke,[e("div",ye,[c(o(M,{title:r.title,member:s.member,grades:r.grades,onOpen:h=>s.member=t},null,8,["title","member","grades","onOpen"]),[[u,l.can(["member update"])]]),c(o(z,{title:r.title,member:s.member,onOpen:h=>s.member=t},null,8,["title","member","onOpen"]),[[u,l.can(["member delete"])]])])])])}),128))]),"table-pagination":i(()=>[o(E,{links:r.members,filters:s.params},null,8,["links","filters"])]),_:1})])])])]),_:1},8,["title"]))}};export{et as default};
